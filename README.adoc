:author: Greg L. Turnquist
:firstname: Greg
:lastname: Turnquist
:chapter_number: 43

= Writing for Packt with Asciidoctor

In this chapter, you'll learn:

* How to create a Packt manuscript using `asciidoctor` (http://asciidoctor.org)
* How to write your text calmly, and let the tools do the layouts for you.
* How to embed images, source code, and create bullets, notes, etc.
* Über easy ways to write your next book (and even use ü's!)

If you'll notice, all lines of that bullet list are tagged **Bullet [PACKT]**, except the last. It's tagged
**Bullet End [PACKT]**.

== Getting started

[verse, Greg L. Turnquist]
After writing gobs of documents over the past year with AsciiDoc, I was strongly motivated to make that work as I embark on writing Learning Spring Boot.

. First, grab this project with `git clone git@github.com:gregturn/asciidoc-packt.git`
. Second, install http://asciidoctor.org
. Third, run this book and see what happens!

If you'll notice, all lines of that numbered list are tagged **Numbered Bullet [PACKT]**, except the last. It's tagged **Numbered Bullet End [PACKT]**.

To run things, you just need a handy dandy script:

----
$ asciidoctor -T slim -b packt README.adoc && xmllint -format README.fodt
----

The output will be compacted XML (FODT), so it will be **hard** to read. That why running it through
`xmllint` is handy.

NOTE: You have to ensure `xmllint` is installed. It's not part of this project.

You should see a nice output: `README.fodt`.

----
$ ls -ltr
total 616
-rw-r--r--@  1 gturnquist  staff   22836 May 30 08:27 packt_template.ott
-rw-r--r--   1 gturnquist  staff  145233 May 30 08:28 packt_template.fodt
drwxr-xr-x   4 gturnquist  staff     136 Jun 18 18:01 slim/
drwxr-xr-x   4 gturnquist  staff     136 Jun 18 20:36 samples/
drwxr-xr-x  11 gturnquist  staff     374 Jun 18 20:36 asciidoc/
-rw-r--r--@  1 gturnquist  staff    6332 Jun 19 08:42 README.adoc
-rw-r--r--   1 gturnquist  staff  131532 Jun 19 08:45 README.fodt
----

From here, you can start writing your own manuscript for Packt. The core content will be towards the end, inside the `<office:body>` tag. Everything
before hand are Packt's styles embedded so LibreOffice will make everything look nice. 

Does your manuscript live elsewhere, and NOT in the same folder as this project? No problem!

----
$ asciidoctor -T /path/to/your/clone/of/asciidoc-packt/slim -b packt your.adoc 
----

You should now see a nice output.

IMPORTANT: In order to open FODT files on Fedora, you must have the **libreoffice-xsltfilter** package installed.

Cheers!

WARNING: This is HIGHLY experimental. I haven't completed the entire book submission process. If you take this
on you assume ALL risk.

== Quotes

I decided to add quotes. There seemed to a lot of proverbial good ones bubbling up regarding Spring Boot, the topic of this
endeavor. So I needed a way to wrap them up properly. It turns out that I preferred the verse over quote, so that's the styling
I have implemented support for.

[verse, Dan Allen]
If Markdown is a 1st-grader, then AsciiDoc is a PhD student.

This one simply has the text, wrapped in quotes, followed by a long dash and the speaker's name.

[verse, Greg L. Turnquist, http://blog.greglturnquist.com/2014/05/asciidoc-springboot-packtpub-awesome-tool-chain.html]
After writing gobs of documents over the past year with AsciiDoc, I was strongly motivated to make that work as I embark on writing Learning Spring Boot.

If you want to cite the source, add the third clause. It will be appended to the end after a ",". NOTE: There is no additional formatting applied, like URL types. Instead, the entire block is marked up with Packt's QUOTE style. Hence, you might want to
debate if this is REALLY needed.

== Code

Nothing is complete without looking at code.

[source,java]
----
include::samples/app.groovy[]
----

This chunk of code is Groovy (http://groovy.codehaus.org). It contains the `@RestController` to flag the entire class as being a controller that
returns values directly back to the client, without invoking any views.

== Subsections

Yes, we handle subsections.

* Level 1 is the title of the chapter.

== Level 1 Section

This is **Heading 1 [PACKT]**.

=== Level 2 Section

This is **Heading 2 [PACKT]**.

==== Level 3 Section

This is **Heading 3 [PACKT]**.

===== Level 4 Section

This is **Heading 4 [PACKT]**.

====== Level 5 Section

This is **Heading 5 [PACKT]**.

As for **Heading 6 [PACKT]**, Asciidoctor doesn't go that deep. In my opinion, I have yet to read a book that needs this many levels.

NOTE: This doesn't apply to Packt Cookbook formats.

=== Tables

We sure do cover them. Tables are an integral part of writing any manuscript. Check out the
following table.

[options="header"]
|====
| Stuff         | Description
| `asciidoctor` | command line tool to parse your doc
| packt         | name of the backend to process this
| slim          | THE simplest templating language designed to output XML. See http://slim-lang.com
| **key word**  | threw in a keyword inside a table just for fun
|====
{empty}

== Images

image::samples/cat.jpg[width="65%" height="30%"]

== What are some of the things you don't cover?

Well, there are actually a lot of other styles provided by Packt not handled here. 

* Code-within-Tips
* Tips-within-Tips
* Bullets-within-Tips-within-Tips
* The entire appendix section of Packt's style guide.
* etc.

That is too much, and frankly, I don't much care for that stuff. Too detailed and really
pulls me away from writing, so I don't support it.

WARNING: All styles embedded in this backend are owned by Packt Publishing Ltd. (http://packtpub.com) and potentially subject to their
copyright notices.

== Good to know stuff...

* Don't embed :author: or :title: attributes at the top. They end up getting printed which fouls up the product you must ship to Packt.

== In case you didn't notice

This README page is structured in the theme of Packt. It might not render perfectly on GitHub, but when viewed through a text editor, 
and certainly when converted by this backend to LibreOffice, it should provide a nice example of writing a manuscript for Packt.

Be advised, the nature of this doc is Packt-like, but don't assume it represents the proper formatting of a book. This is how to 
style things. Formatting governs what sections you'll have in a chapter. When to use tips, quotes, etc. is strictly editorial and 
YOUR responsibility.

NOTHING is done to make it look good on GitHub, because that is not the target. BUT...why waste a keen opportunity to document both
environments?

